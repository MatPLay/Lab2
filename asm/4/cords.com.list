EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
cords.com -- emu8086 assembler version: 4.05  
 
[ 13.05.2020  --  20:05:11 ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       org 100h
[   2]        :                                       .stack 100h
[   3]    0100: E9 26 20                              .data
[   4]        :                                       ;######################################################################################################################################################################################
[   5]        :                                       ;######################################################################################################################################################################################
[   6]        :                                       ;######################################################################################################################################################################################
[   7]        :                                       ;######################################################################################################################################################################################
[   8]        :                                       ;====Map====
[   9]    0103: 53 63 4F 72 65 3A 20 20 20 20 20 20   MAP         db "ScOre:                                                                                                                  ";0
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                                                    
[  10]    017B: 23 23 23 23 23 23 23 23 23 23 23 23   db "########################################################################################################################";1
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                                                    
[  11]    01F3: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                                                                                                             o o      #";2
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 6F 20 6F 20 20 20 20 20 20 23 
                                                    
[  12]    026B: 23 20 20 20 20 20 20 20 20 20 6F 20   db "#         o                                                                                  #######% %  ###########% %#";3
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 23 23 23 
                23 23 23 23 25 20 25 20 20 23 23 23 
                23 23 23 23 23 23 23 23 25 20 25 23 
                                                    
[  13]    02E3: 23 20 20 20 20 20 20 20 20 23 23 23   db "#        ###                                                                                 ###########################";4
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                                                    
[  14]    035B: 23 20 20 20 20 20 20 20 20 23 77 23   db "#        #w##                                                                          o    ########% % % % % % %      #";5
                23 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 6F 20 20 20 20 23 23 23 23 
                23 23 23 23 25 20 25 20 25 20 25 20 
                25 20 25 20 25 20 20 20 20 20 20 23 
                                                    
[  15]    03D3: 23 20 20 20 20 20 20 20 20 23 69 23   db "#        #i##                                                                    o    ###          ################    #";6
                23 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 6F 20 20 
                20 20 23 23 23 20 20 20 20 20 20 20 
                20 20 20 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 20 20 20 20 23 
                                                    
[  16]    044B: 23 20 20 20 20 20 20 20 20 23 6E 23   db "#        #n### o                                                        o   o   ###                                    #";7
                23 23 20 6F 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                6F 20 20 20 6F 20 20 20 23 23 23 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                                                    
[  17]    04C3: 23 23 23 23 23 23 23 23 23 23 23 23   db "################# o                       o       o       o             #####                                          #";8
                23 23 23 23 23 20 6F 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 6F 20 20 20 20 20 
                20 20 6F 20 20 20 20 20 20 20 6F 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                23 23 23 23 23 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                                                    
[  18]    053B: 23 20 20 20 20 20 20 20 20 20 20 20   db "#             ###### o o o o o o   o     ####    ###  #  ###    o  o                                           #    ####";9
                20 20 23 23 23 23 23 23 20 6F 20 6F 
                20 6F 20 6F 20 6F 20 6F 20 20 20 6F 
                20 20 20 20 20 23 23 23 23 20 20 20 
                20 23 23 23 20 20 23 20 20 23 23 23 
                20 20 20 20 6F 20 20 6F 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 23 20 20 20 20 23 23 23 23 
                                                    
[  19]    05B3: 23 25 20 25 20 25 20 25 20 25 20 20   db "#% % % % %                       #####    %       %#     #%    ###### o  o  o  o           #######             ##      #";10
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 23 23 23 
                23 23 20 20 20 20 25 20 20 20 20 20 
                20 20 25 23 20 20 20 20 20 23 25 20 
                20 20 20 23 23 23 23 23 23 20 6F 20 
                20 6F 20 20 6F 20 20 6F 20 20 20 20 
                20 20 20 20 20 20 20 23 23 23 23 23 
                23 23 20 20 20 20 20 20 20 20 20 20 
                20 20 20 23 23 20 20 20 20 20 20 23 
                                                    
[  20]    062B: 23 23 23 23 23 23 23 23 23 23 23 23   db "####################################################@@@@@######################## o                        #   ##      #";11
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 40 40 40 40 40 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 20 6F 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                20 20 20 23 23 20 20 20 20 20 20 23 
                                                    
[  21]    06A3: 23 23 23 23 23 23 23 23 23 23 23 23   db "#################################################################################### o    o  o    o#o      # o ###     #";12
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                20 6F 20 20 20 20 6F 20 20 6F 20 20 
                20 20 6F 23 6F 20 20 20 20 20 20 23 
                20 6F 20 23 23 23 20 20 20 20 20 23 
                                                    
[  22]    071B: 23 71 2D 71 75 69 74 20 20 20 20 20   db "#q-quit        w-jump                     #############################################%        %#####  %  #######   ###";13
                20 20 20 77 2D 6A 75 6D 70 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 25 20 20 20 20 20 20 20 20 
                25 23 23 23 23 23 20 20 25 20 20 23 
                23 23 23 23 23 23 20 20 20 23 23 23 
                                                    
[  23]    0793: 23 72 2D 72 65 73 74 61 72 74 20 20   db "#r-restart     a-mOve left                ################                   #####################################  ####";14
                20 20 20 61 2D 6D 4F 76 65 20 6C 65 
                66 74 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 20 20 23 23 23 23 
                                                    
[  24]    080B: 23 20 20 20 20 20 20 20 20 20 20 20   db "#              d-mOve right               ##########                                                                #  #";15
                20 20 20 64 2D 6D 4F 76 65 20 72 69 
                67 68 74 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 23 23 23 23 23 23 
                23 23 23 23 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 23 20 20 23 
                                                    
[  25]    0883: 23 23 23 23 23 23 23 23 23 23 23 23   db "############################################                  o  o                                                  #  #";16
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 6F 20 20 6F 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 23 20 20 23 
                                                    
[  26]    08FB: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                                                        o           o     o   o     o  o             o            ## o#";17
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 6F 20 20 
                20 20 20 20 20 20 20 20 20 6F 20 20 
                20 20 20 6F 20 20 20 6F 20 20 20 20 
                20 6F 20 20 6F 20 20 20 20 20 20 20 
                20 20 20 20 20 20 6F 20 20 20 20 20 
                20 20 20 20 20 20 20 23 23 20 6F 23 
                                                    
[  27]    0973: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                                                    o  ###   #  #   #    ######    #####    #####   ###  ##  ###  ## ##";18
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 6F 20 20 23 23 23 20 
                20 20 23 20 20 23 20 20 20 23 20 20 
                20 20 23 23 23 23 23 23 20 20 20 20 
                23 23 23 23 23 20 20 20 20 23 23 23 
                23 23 20 20 20 23 23 23 20 20 23 23 
                20 20 23 23 23 20 20 23 23 20 23 23 
                                                    
[  28]    09EB: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                                               o  ########@@@@@@@@@@#       #                 #                      ##";19
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                6F 20 20 23 23 23 23 23 23 23 23 40 
                40 40 40 40 40 40 40 40 40 23 20 20 
                20 20 20 20 20 23 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 23 23 
                                                    
[  29]    0A63: 23 20 20 20 2A 20 20 20 20 20 20 20   db "#   *        o   o      o  o     o   o   o     ########################      #                 #                  #  ###";20
                20 6F 20 20 20 6F 20 20 20 20 20 20 
                6F 20 20 6F 20 20 20 20 20 6F 20 20 
                20 6F 20 20 20 6F 20 20 20 20 20 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 20 
                20 20 20 20 20 23 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 23 20 20 23 23 23 
                                                    
[  30]    0ADB: 23 23 23 23 23 23 23 23 20 20 20 20   db "########     #####     #####     #########     #         o          ### oo   #  o   o    o   o # o   o            # o###";21
                20 23 23 23 23 23 20 20 20 20 20 23 
                23 23 23 23 20 20 20 20 20 23 23 23 
                23 23 23 23 23 23 20 20 20 20 20 23 
                20 20 20 20 20 20 20 20 20 6F 20 20 
                20 20 20 20 20 20 20 20 23 23 23 20 
                6F 6F 20 20 20 23 20 20 6F 20 20 20 
                6F 20 20 20 20 6F 20 20 20 6F 20 23 
                20 6F 20 20 20 6F 20 20 20 20 20 20 
                20 20 20 20 20 20 23 20 6F 23 23 23 
                                                    
[  31]    0B53: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                #     #              ######                ###############  #  #####    ##### # #####  ##  ## #########";22
                20 20 20 20 20 23 20 20 20 20 20 23 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 23 23 23 23 23 23 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 20 20 23 20 20 23 23 23 23 
                23 20 20 20 20 23 23 23 23 23 20 23 
                20 23 23 23 23 23 20 20 23 23 20 20 
                23 23 20 23 23 23 23 23 23 23 23 23 
                                                    
[  32]    0BCB: 23 25 20 25 20 25 20 25 20 25 20 20   db "#% % % % %       #     #       % % % % %######%          #     # %              %               %              %       #";23
                20 20 20 20 20 23 20 20 20 20 20 23 
                20 20 20 20 20 20 20 25 20 25 20 25 
                20 25 20 25 23 23 23 23 23 23 25 20 
                20 20 20 20 20 20 20 20 20 23 20 20 
                20 20 20 23 20 25 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 25 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                25 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 25 20 20 20 20 20 20 20 23 
                                                    
[  33]    0C43: 23 23 23 23 23 23 23 23 23 23 23 23   db "##################@@@@@###################################@@@@@#########################################################";24
                23 23 23 23 23 23 40 40 40 40 40 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 40 40 
                40 40 40 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                                                    
[  34]        :                                       ;===========
[  35]        :                                       ;              ;1        ;2        ;3        ;4        ;5        ;6        ;7        ;8        ;9        ;10        ;11      ;12
[  36]        :                                       ;===========   ;012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789
[  37]    0CBB: 53 63 4F 72 65 3A 20 20 20 20 20 20   MAP_RESET   db "ScOre:                                                                                                                  ";0
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                                                    
[  38]    0D33: 23 23 23 23 23 23 23 23 23 23 23 23   db "########################################################################################################################";1
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                                                    
[  39]    0DAB: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                                                                                                           o o        #";2
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                6F 20 6F 20 20 20 20 20 20 20 20 23 
                                                    
[  40]    0E23: 23 20 20 20 20 20 20 20 20 20 6F 20   db "#         o                                                                                  #######% %  ###########% %#";3
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 23 23 23 
                23 23 23 23 25 20 25 20 20 23 23 23 
                23 23 23 23 23 23 23 23 25 20 25 23 
                                                    
[  41]    0E9B: 23 20 20 20 20 20 20 20 20 23 23 23   db "#        ###                                                                                 ###########################";4
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                                                    
[  42]    0F13: 23 20 20 20 20 20 20 20 20 23 77 23   db "#        #w##                                                                          o    ########% % % % % % %      #";5
                23 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 6F 20 20 20 20 23 23 23 23 
                23 23 23 23 25 20 25 20 25 20 25 20 
                25 20 25 20 25 20 20 20 20 20 20 23 
                                                    
[  43]    0F8B: 23 20 20 20 20 20 20 20 20 23 69 23   db "#        #i##                                                                    o    ###          ################    #";6
                23 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 6F 20 20 
                20 20 23 23 23 20 20 20 20 20 20 20 
                20 20 20 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 20 20 20 20 23 
                                                    
[  44]    1003: 23 20 20 20 20 20 20 20 20 23 6E 23   db "#        #n### o                                                        o   o   ###                                    #";7
                23 23 20 6F 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                6F 20 20 20 6F 20 20 20 23 23 23 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                                                    
[  45]    107B: 23 23 23 23 23 23 23 23 23 23 23 23   db "################# o                       o       o       o             #####                                          #";8
                23 23 23 23 23 20 6F 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 6F 20 20 20 20 20 
                20 20 6F 20 20 20 20 20 20 20 6F 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                23 23 23 23 23 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                                                    
[  46]    10F3: 23 20 20 20 20 20 20 20 20 20 20 20   db "#             ###### o o o o o o   o     ####    ###  #  ###    o  o                                           #    ####";9
                20 20 23 23 23 23 23 23 20 6F 20 6F 
                20 6F 20 6F 20 6F 20 6F 20 20 20 6F 
                20 20 20 20 20 23 23 23 23 20 20 20 
                20 23 23 23 20 20 23 20 20 23 23 23 
                20 20 20 20 6F 20 20 6F 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 23 20 20 20 20 23 23 23 23 
                                                    
[  47]    116B: 23 25 20 25 20 25 20 25 20 25 20 20   db "#% % % % %                       #####    %       %#     #%    ###### o  o  o  o           #######             ##      #";10
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 23 23 23 
                23 23 20 20 20 20 25 20 20 20 20 20 
                20 20 25 23 20 20 20 20 20 23 25 20 
                20 20 20 23 23 23 23 23 23 20 6F 20 
                20 6F 20 20 6F 20 20 6F 20 20 20 20 
                20 20 20 20 20 20 20 23 23 23 23 23 
                23 23 20 20 20 20 20 20 20 20 20 20 
                20 20 20 23 23 20 20 20 20 20 20 23 
                                                    
[  48]    11E3: 23 23 23 23 23 23 23 23 23 23 23 23   db "####################################################@@@@@######################## o                        #   ##      #";11
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 40 40 40 40 40 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 20 6F 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                20 20 20 23 23 20 20 20 20 20 20 23 
                                                    
[  49]    125B: 23 23 23 23 23 23 23 23 23 23 23 23   db "#################################################################################### o    o  o    o#o      # o ###     #";12
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                20 6F 20 20 20 20 6F 20 20 6F 20 20 
                20 20 6F 23 6F 20 20 20 20 20 20 23 
                20 6F 20 23 23 23 20 20 20 20 20 23 
                                                    
[  50]    12D3: 23 71 2D 71 75 69 74 20 20 20 20 20   db "#q-quit        w-jump                     #############################################%        %#####  %  #######   ###";13
                20 20 20 77 2D 6A 75 6D 70 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 25 20 20 20 20 20 20 20 20 
                25 23 23 23 23 23 20 20 25 20 20 23 
                23 23 23 23 23 23 20 20 20 23 23 23 
                                                    
[  51]    134B: 23 72 2D 72 65 73 74 61 72 74 20 20   db "#r-restart     a-mOve left                ################                   #####################################  ####";14
                20 20 20 61 2D 6D 4F 76 65 20 6C 65 
                66 74 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 20 20 23 23 23 23 
                                                    
[  52]    13C3: 23 20 20 20 20 20 20 20 20 20 20 20   db "#              d-mOve right               ##########                                                                #  #";15
                20 20 20 64 2D 6D 4F 76 65 20 72 69 
                67 68 74 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 23 23 23 23 23 23 
                23 23 23 23 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 23 20 20 23 
                                                    
[  53]    143B: 23 23 23 23 23 23 23 23 23 23 23 23   db "############################################                  o  o                                                  #  #";16
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 6F 20 20 6F 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 23 20 20 23 
                                                    
[  54]    14B3: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                                                        o           o     o   o     o  o             o            ## o#";17
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 6F 20 20 
                20 20 20 20 20 20 20 20 20 6F 20 20 
                20 20 20 6F 20 20 20 6F 20 20 20 20 
                20 6F 20 20 6F 20 20 20 20 20 20 20 
                20 20 20 20 20 20 6F 20 20 20 20 20 
                20 20 20 20 20 20 20 23 23 20 6F 23 
                                                    
[  55]    152B: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                                                    o  ###   #  #   #    ######    #####    #####   ###  ##  ###  ## ##";18
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 6F 20 20 23 23 23 20 
                20 20 23 20 20 23 20 20 20 23 20 20 
                20 20 23 23 23 23 23 23 20 20 20 20 
                23 23 23 23 23 20 20 20 20 23 23 23 
                23 23 20 20 20 23 23 23 20 20 23 23 
                20 20 23 23 23 20 20 23 23 20 23 23 
                                                    
[  56]    15A3: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                                               o  ########@@@@@@@@@@#       #                 #                      ##";19
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                6F 20 20 23 23 23 23 23 23 23 23 40 
                40 40 40 40 40 40 40 40 40 23 20 20 
                20 20 20 20 20 23 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 23 23 
                                                    
[  57]    161B: 23 20 20 20 2A 20 20 20 20 20 20 20   db "#   *        o   o         o     o   o   o     ########################      #                 #                  #  ###";20
                20 6F 20 20 20 6F 20 20 20 20 20 20 
                20 20 20 6F 20 20 20 20 20 6F 20 20 
                20 6F 20 20 20 6F 20 20 20 20 20 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 20 
                20 20 20 20 20 23 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 23 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 23 20 20 23 23 23 
                                                    
[  58]    1693: 23 23 23 23 23 23 23 23 20 20 20 20   db "########     #####     #####     #########     #         o          ### oo   #  o   o    o   o # o   o            # o###";21
                20 23 23 23 23 23 20 20 20 20 20 23 
                23 23 23 23 20 20 20 20 20 23 23 23 
                23 23 23 23 23 23 20 20 20 20 20 23 
                20 20 20 20 20 20 20 20 20 6F 20 20 
                20 20 20 20 20 20 20 20 23 23 23 20 
                6F 6F 20 20 20 23 20 20 6F 20 20 20 
                6F 20 20 20 20 6F 20 20 20 6F 20 23 
                20 6F 20 20 20 6F 20 20 20 20 20 20 
                20 20 20 20 20 20 23 20 6F 23 23 23 
                                                    
[  59]    170B: 23 20 20 20 20 20 20 20 20 20 20 20   db "#                #     #              ######                ###############  #  #####    ##### # #####  ##  ## #########";22
                20 20 20 20 20 23 20 20 20 20 20 23 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 23 23 23 23 23 23 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 20 20 23 20 20 23 23 23 23 
                23 20 20 20 20 23 23 23 23 23 20 23 
                20 23 23 23 23 23 20 20 23 23 20 20 
                23 23 20 23 23 23 23 23 23 23 23 23 
                                                    
[  60]    1783: 23 25 20 25 20 25 20 25 20 25 20 20   db "#% % % % %       #     #       % % % % %######%          #     # %              %               %              %       #";23
                20 20 20 20 20 23 20 20 20 20 20 23 
                20 20 20 20 20 20 20 25 20 25 20 25 
                20 25 20 25 23 23 23 23 23 23 25 20 
                20 20 20 20 20 20 20 20 20 23 20 20 
                20 20 20 23 20 25 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 25 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                25 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 25 20 20 20 20 20 20 20 23 
                                                    
[  61]    17FB: 23 23 23 23 23 23 23 23 23 23 23 23   db "##################@@@@@###################################@@@@@#########################################################";24
                23 23 23 23 23 23 40 40 40 40 40 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 40 40 
                40 40 40 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                23 23 23 23 23 23 23 23 23 23 23 23 
                                                    
[  62]        :                                       ;1        ;2        ;3        ;4        ;5        ;6        ;7        ;8        ;9        ;10        ;11      ;12
[  63]        :                                       ;012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789
[  64]        :                                       ;
[  65]        :                                       ;RESETTING_COORDINATES
[  66]    1873: 64 66 74 76 64 66 68 6A 6C 6E 70 01   reset_enemies_pos_x         db 100,102,116,118,100,102,104,106,108,110,112,1, 3, 5, 7, 9 ,42,50,58,87,96, 104,1, 3, 5, 7, 9, 31,33,35,37,39,46,65,80,96,111
                03 05 07 09 2A 32 3A 57 60 68 01 03 
                05 07 09 1F 21 23 25 27 2E 41 50 60 
                6F                                  
[  67]    1898: 03 03 03 03 05 05 05 05 05 05 05 0A   reset_enemies_pos_y         db 3,  3,  3,  3,  5,  5,  5,  5,  5,  5,  5,  10,10,10,10,10,10,10,10,13,13, 13, 23,23,23,23,23,23,23,23,23,23,23,23,23,23,23
                0A 0A 0A 0A 0A 0A 0A 0D 0D 0D 17 17 
                17 17 17 17 17 17 17 17 17 17 17 17 
                17                                  
[  68]        :                                       ;
[  69]        :                                       ;====Player_start_coordinates===
[  70]    18BD: 04                                    player_pos_x db 4
[  71]    18BE: 07                                    player_pos_y db 7
[  72]    18BF: 00                                    player_coins db 0
[  73]    18C0: 00                                    player_dir db 0
[  74]    18C1: 00                                    is_dead db 0
[  75]    18C2: 00                                    is_player db 0
[  76]        :                                       ;0-left 1-right
[  77]        :                                       ;===============================
[  78]        :                                       ;
[  79]        :                                       ;====Enemies_start_coordinates====
[  80]    18C3: 64 66 74 76 64 66 68 6A 6C 6E 70 01   enemies_pos_x         db 100,102,116,118,100,102,104,106,108,110,112,1, 3, 5, 7, 9 ,42,50,58,87,96, 104,1, 3, 5, 7, 9, 31,33,35,37,39,46,65,80,96,111
                03 05 07 09 2A 32 3A 57 60 68 01 03 
                05 07 09 1F 21 23 25 27 2E 41 50 60 
                6F                                  
[  81]    18E8: 03 03 03 03 05 05 05 05 05 05 05 0A   enemies_pos_y         db 3,  3,  3,  3,  5,  5,  5,  5,  5,  5,  5,  10,10,10,10,10,10,10,10,13,13, 13, 23,23,23,23,23,23,23,23,23,23,23,23,23,23, 23  ;start coordinates
                0A 0A 0A 0A 0A 0A 0A 0D 0D 0D 17 17 
                17 17 17 17 17 17 17 17 17 17 17 17 
                17                                  
[  82]    190D: 02 02 02 02 02 02 02 02 02 02 02 02   enemies_dirs          db 2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,  2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2
                02 02 02 02 02 02 02 02 02 02 02 02 
                02 02 02 02 02 02 02 02 02 02 02 02 
                02                                  
[  83]        :                                       ;0-left 1-right
[  84]        :                                       ;=================================
[  85]        :                                       ;
[  86]        :                                       ;====Finish_point====
[  87]    1932: 07                                    end_pos_x db 7
[  88]    1933: 07                                    end_pos_y db 7
[  89]    1934: 00                                    is_finish db 0
[  90]        :                                       ;====================
[  91]        :                                       ;
[  92]        :                                       ;====View_Control====
[  93]    1935: 28                                    left_shift  db 28h
[  94]    1936: 00                                    right_shift db 0
[  95]    1937: 00                                    shifting db 0
[  96]        :                                       ;====================
[  97]        :                                       ;
[  98]        :                                       ;====Button_codes====
[  99]    1938: 77 61 73 64 65 72                     buttons db "wasder"
[ 100]        :                                       buttons_count equ 6
[ 101]    193E: 00                                    pressed_button  db 0
[ 102]        :                                       ;====================
[ 103]        :                                       ;====Atributes nd ascii====
[ 104]        :                                       mobs_atr_asc equ 023Dh ;blue sky
[ 105]        :                                       pler_atr_asc equ 0639h ;blue sky
[ 106]        :                                       bckg_atr_asc equ 2038h ;space just blue sky
[ 107]        :                                       wall_atr_asc equ 2067h ;space just brown
[ 108]        :                                       coin_atr_asc equ 6F3Eh ;'o' yellow+blue sky
[ 109]        :                                       symb_atr equ 38h   ;blue sky
[ 110]        :                                       lava_atr_asc equ B24Eh ;lava dots
[ 111]        :                                       ;==============
[ 112]        :                                       ;
[ 113]        :                                       ;====Usefull temp variables====
[ 114]    193F: 00                                    up_block db 0
[ 115]    1940: 00                                    left_block db 0
[ 116]    1941: 00                                    down_block db 0
[ 117]    1942: 00                                    right_block db 0
[ 118]    1943: 00                                    pos_x_tmp db 0
[ 119]    1944: 00                                    pos_y_tmp db 0
[ 120]        :                                       ;==============================
[ 121]        :                                       ;====For atribute and ascii(drawing the map)====
[ 122]    1945: 00 00                                 tmp_ascii_atribute dw 0
[ 123]    1947: 00                                    tmp_ascii db 0
[ 124]        :                                       ;===============================================
[ 125]        :                                       ;====Fore MOVE PROC====
[ 126]    1948: 00                                    move_pos_x db 0
[ 127]    1949: 00                                    move_pos_y db 0
[ 128]    194A: 00                                    blocks_for_jump db 0
[ 129]    194B: 00                                    move_dir db 0
[ 130]    194C: 00                                    move_ascii db 0
[ 131]        :                                       
[ 132]    194D: 01                                    can_move db 1
[ 133]    194E: 00                                    move_timer_sec db 0
[ 134]    194F: 00                                    move_timer_msec db 0
[ 135]        :                                       ;======================
[ 136]        :                                       ;######################################################################################################################################################################################
[ 137]        :                                       ;######################################################################################################################################################################################
[ 138]        :                                       ;######################################################################################################################################################################################
[ 139]        :                                       ;######################################################################################################################################################################################
[ 140]        :                                       ;
[ 141]        :                                       ;###################################################################
[ 142]    1950:                                       EndGame PROC
[ 143]    1950: 50                                    push ax
[ 144]        :                                       
[ 145]    1951: C6 06 34 19 00                        mov is_finish,0
[ 146]        :                                       
[ 147]    1956: B0 07                                 mov al,7
[ 148]    1958: 3A 06 BE 18                           cmp al,player_pos_y
[ 149]    195C: 75 17                                 jne fin_endgame
[ 150]        :                                       
[ 151]    195E: A0 BD 18                              mov al,player_pos_x
[ 152]    1961: B3 01                                 mov bl,1
[ 153]    1963: B9 08 00                              mov cx,8
[ 154]        :                                       
[ 155]    1966:                                       for_13:
[ 156]    1966: 3A D8                                 cmp bl,al
[ 157]    1968: 74 06                                 je win
[ 158]    196A: FE C3                                 inc bl
[ 159]    196C: E2 F8                                 loop for_13
[ 160]        :                                       
[ 161]    196E: EB 05                                 jmp fin_endgame
[ 162]        :                                       
[ 163]    1970:                                       win:
[ 164]    1970: C6 06 34 19 01                        mov is_finish,1
[ 165]        :                                       
[ 166]    1975:                                       fin_endgame:
[ 167]    1975: 58                                    pop ax
[ 168]    1976: C3                                    ret
[ 169]        :                                       EndGame ENDP
[ 170]        :                                       ;###################################################################
[ 171]        :                                       ;
[ 172]        :                                       ;###################################################################
[ 173]    1977:                                       Reset_level PROC
[ 174]        :                                       ;map reseting
[ 175]    1977: BE BB 0C                              mov si,offset MAP_RESET
[ 176]    197A: BF 03 01                              mov di,offset MAP
[ 177]        :                                       
[ 178]    197D: B9 B8 0B                              mov cx,0BB8h
[ 179]        :                                       
[ 180]    1980:                                       for_11:
[ 181]        :                                       
[ 182]    1980: 8A 04                                 mov al,[si]
[ 183]    1982: 3C 25                                 cmp al,25h;enemy
[ 184]    1984: 74 02                                 je cnt_for_11
[ 185]    1986: 88 05                                 mov [di],al
[ 186]    1988:                                       cnt_for_11:
[ 187]    1988: 46                                    inc si
[ 188]    1989: 47                                    inc di
[ 189]    198A: E2 F4                                 loop for_11
[ 190]        :                                       
[ 191]        :                                       ;    mov si,offset MAP_RESET
[ 192]        :                                       ;    mov di,offset MAP
[ 193]        :                                       ;
[ 194]        :                                       ;    mov cx,0BB8h
[ 195]        :                                       ;    rep movsb
[ 196]        :                                       
[ 197]        :                                       ;player cords resetting
[ 198]    198C: C6 06 BD 18 04                        mov player_pos_x,4
[ 199]    1991: C6 06 BE 18 14                        mov player_pos_y,20
[ 200]    1996: C6 06 BF 18 01                        mov player_coins,1
[ 201]    199B: C6 06 C0 18 00                        mov player_dir,0
[ 202]    19A0: C6 06 C1 18 00                        mov is_dead,0
[ 203]        :                                       
[ 204]        :                                       ;shiftin reseting
[ 205]    19A5: B0 00                                 mov al,0
[ 206]    19A7: A2 35 19                              mov left_shift,al
[ 207]    19AA: B0 28                                 mov al,28h
[ 208]    19AC: A2 36 19                              mov right_shift,al
[ 209]        :                                       
[ 210]        :                                       ;enemies cord resetting
[ 211]    19AF: BE 73 18                              mov si,offset reset_enemies_pos_x
[ 212]    19B2: BF C3 18                              mov di,offset enemies_pos_x
[ 213]    19B5: B9 25 00                              mov cx,37;count of mobs
[ 214]    19B8: F3 A4                                 rep movsb
[ 215]        :                                       
[ 216]    19BA: BE 98 18                              mov si,offset reset_enemies_pos_y
[ 217]    19BD: BF E8 18                              mov di,offset enemies_pos_y
[ 218]    19C0: B9 25 00                              mov cx,37;count of mobs
[ 219]    19C3: F3 A4                                 rep movsb
[ 220]        :                                       
[ 221]    19C5: BE 0D 19                              mov si, offset enemies_dirs
[ 222]    19C8: B9 25 00                              mov cx,37;count of mobs
[ 223]    19CB: B0 02                                 mov al,2;random direction
[ 224]        :                                       
[ 225]    19CD:                                       for_7:
[ 226]    19CD: 88 04                                 mov [si],al
[ 227]    19CF: E2 FC                                 loop for_7
[ 228]        :                                       
[ 229]        :                                       ;for timers
[ 230]    19D1: B4 2C                                 mov ah,2Ch
[ 231]    19D3: CD 21                                 int 21h
[ 232]    19D5: 88 36 4E 19                           mov move_timer_sec,dh
[ 233]    19D9: 88 16 4F 19                           mov move_timer_msec,dl
[ 234]        :                                       
[ 235]    19DD: C3                                    ret
[ 236]        :                                       Reset_level ENDP
[ 237]        :                                       ;###################################################################
[ 238]        :                                       ;
[ 239]        :                                       ;###################################################################
[ 240]    19DE:                                       GetButtonCode PROC
[ 241]    19DE: 57                                    push di
[ 242]    19DF: 50                                    push ax
[ 243]        :                                       
[ 244]    19E0: EB 05                                 jmp getbuttoncode_start
[ 245]        :                                       
[ 246]    19E2:                                       setPressedButton:
[ 247]    19E2: A2 3E 19                              mov pressed_button,al
[ 248]    19E5: EB 1E                                 jmp for_6
[ 249]        :                                       
[ 250]    19E7:                                       getbuttoncode_start:
[ 251]    19E7: C6 06 3E 19 00                        mov pressed_button,0
[ 252]    19EC: B4 01                                 mov ah,1
[ 253]    19EE: CD 16                                 int 16h
[ 254]    19F0: 74 1F                                 jz getbuttoncode_fin
[ 255]    19F2: B4 00                                 mov ah,0
[ 256]    19F4: CD 16                                 int 16h
[ 257]        :                                       ;in al ascii code
[ 258]    19F6: BF 38 19                              mov di,offset buttons
[ 259]    19F9: B9 06 00                              mov cx, buttons_count
[ 260]    19FC:                                       getButton_cycle:
[ 261]    19FC: 8A 3D                                 mov bh,[di]
[ 262]    19FE: 3A F8                                 cmp bh,al
[ 263]    1A00: 74 E0                                 je setPressedButton
[ 264]    1A02: 47                                    inc di
[ 265]    1A03: E2 F7                                 loop getButton_cycle
[ 266]        :                                       
[ 267]        :                                       ;clearing the buffer
[ 268]    1A05:                                       for_6:
[ 269]    1A05: B4 01                                 mov ah,1
[ 270]    1A07: CD 16                                 int 16h
[ 271]    1A09: 74 06                                 jz getbuttoncode_fin
[ 272]    1A0B: B4 00                                 mov ah,0
[ 273]    1A0D: CD 16                                 int 16h
[ 274]    1A0F: EB F4                                 jmp for_6
[ 275]        :                                       
[ 276]    1A11:                                       getbuttoncode_fin:
[ 277]    1A11: 58                                    pop ax
[ 278]    1A12: 5F                                    pop di
[ 279]    1A13: E8 2A 04                              call SetPlayerDirection
[ 280]        :                                       ;    mov ah,08h
[ 281]        :                                       ;    int 21h
[ 282]    1A16: C3                                    ret
[ 283]        :                                       GetButtonCode ENDP
[ 284]        :                                       ;###################################################################
[ 285]        :                                       ;
[ 286]        :                                       ;###################################################################
[ 287]        :                                       GetBlocks macro pos_x,pos_y
[ 288]        :                                       push ax
[ 289]        :                                       push di
[ 290]        :                                       
[ 291]        :                                       mov al,pos_y
[ 292]        :                                       dec al
[ 293]        :                                       mov bh,120
[ 294]        :                                       mul bh
[ 295]        :                                       xor bh,bh
[ 296]        :                                       mov bl,pos_x
[ 297]        :                                       add ax,bx
[ 298]        :                                       mov di,offset MAP
[ 299]        :                                       add di,ax
[ 300]        :                                       mov al,[di]
[ 301]        :                                       mov up_block,al
[ 302]        :                                       ;=========
[ 303]        :                                       
[ 304]        :                                       ;block down
[ 305]        :                                       add di,240
[ 306]        :                                       mov al,[di]
[ 307]        :                                       mov down_block,al
[ 308]        :                                       ;=========
[ 309]        :                                       
[ 310]        :                                       ;block right
[ 311]        :                                       sub di,119
[ 312]        :                                       mov al,[di]
[ 313]        :                                       mov right_block,al
[ 314]        :                                       ;=========
[ 315]        :                                       
[ 316]        :                                       ;block left
[ 317]        :                                       sub di,2
[ 318]        :                                       mov al,[di]
[ 319]        :                                       mov left_block,al
[ 320]        :                                       ;=========
[ 321]        :                                       
[ 322]        :                                       pop di
[ 323]        :                                       pop ax
[ 324]        :                                       GetBlocks endm
[ 325]        :                                       ;###################################################################
[ 326]        :                                       ;
[ 327]        :                                       ;###################################################################
[ 328]    1A17:                                       Move PROC
[ 329]        :                                       
[ 330]    1A17: 50                                    push ax
[ 331]    1A18: C6 06 C1 18 00                        mov is_dead,0
[ 332]    1A1D: 80 3E 3E 19 00                        cmp pressed_button,0
[ 333]    1A22: 75 03 E9 68 03                        je Move_fin_no_button
[ 334]        :                                       
[ 335]    1A27: A0 49 19                              mov al,move_pos_y
[ 336]    1A2A: B7 78                                 mov bh,120
[ 337]    1A2C: F6 E7                                 mul bh
[ 338]    1A2E: 32 FF                                 xor bh,bh
[ 339]    1A30: 8A 1E 48 19                           mov bl,move_pos_x
[ 340]    1A34: 03 C3                                 add ax,bx
[ 341]    1A36: BF 03 01                              mov di,offset MAP
[ 342]    1A39: 03 F8                                 add di,ax
[ 343]        :                                       
[ 344]    1A3B: B0 20                                 mov al,' '
[ 345]    1A3D: 8A 25                                 mov ah,[di]
[ 346]    1A3F: 88 05                                 mov [di],al
[ 347]    1A41: 50 57 A0 49 19 FE C8 B7 78 F6 E7 32   GetBlocks move_pos_x,move_pos_y
                FF 8A 1E 48 19 03 C3 BF 03 01 03 F8 
                8A 05 A2 3F 19 81 C7 F0 00 8A 05 A2 
                41 19 83 EF 77 8A 05 A2 42 19 83 EF 
                02 8A 05 A2 40 19 5F 58             
[ 348]        :                                       
[ 349]    1A79: E9 E1 02                              jmp move_start
[ 350]        :                                       
[ 351]    1A7C:                                       move_fin_change_dir:
[ 352]    1A7C: 80 3E 4B 19 02                        cmp move_dir,2
[ 353]    1A81: 74 08                                 je set_dir_4
[ 354]    1A83: C6 06 4B 19 02                        mov move_dir,2
[ 355]    1A88: E9 F1 02                              jmp move_fin
[ 356]        :                                       
[ 357]    1A8B:                                       set_dir_4:
[ 358]    1A8B: C6 06 4B 19 04                        mov move_dir,4
[ 359]    1A90: E9 E9 02                              jmp move_fin
[ 360]        :                                       
[ 361]    1A93:                                       inc_coin_count_continue:
[ 362]        :                                       
[ 363]    1A93: FE 06 BF 18                           inc player_coins
[ 364]        :                                       
[ 365]    1A97: 80 3E 4B 19 01                        cmp move_dir,1
[ 366]    1A9C: 75 03 E9 9A 00                        je move_up_continue
[ 367]        :                                       
[ 368]    1AA1: 80 3E 4B 19 02                        cmp move_dir,2
[ 369]    1AA6: 75 03 E9 96 01                        je move_left_continue
[ 370]        :                                       
[ 371]    1AAB: 80 3E 4B 19 03                        cmp move_dir,3
[ 372]    1AB0: 75 03 E9 9F 02                        je move_down_continue
[ 373]        :                                       
[ 374]    1AB5: 80 3E 4B 19 04                        cmp move_dir,4
[ 375]    1ABA: 75 03 E9 DF 01                        je move_right_continue
[ 376]        :                                       
[ 377]        :                                       ;$$$$$$$$$$$$$
[ 378]    1ABF:                                       move_up:
[ 379]    1ABF: EB 1B                                 jmp move_up_start
[ 380]        :                                       
[ 381]    1AC1:                                       dead_up:
[ 382]    1AC1: C6 06 C1 18 01                        mov is_dead,1
[ 383]    1AC6: E9 C6 02                              jmp Move_fin_no_button
[ 384]        :                                       
[ 385]    1AC9:                                       exception_move:
[ 386]    1AC9: FE 0E 49 19                           dec move_pos_y
[ 387]    1ACD: EB 05                                 jmp for_3
[ 388]        :                                       
[ 389]    1ACF:                                       move_handle:
[ 390]    1ACF: 83 F9 03                              cmp cx,3
[ 391]    1AD2: 74 F5                                 je exception_move
[ 392]    1AD4:                                       for_3:
[ 393]    1AD4: 83 EF 78                              sub di,78h
[ 394]    1AD7: E2 FB                                 loop for_3
[ 395]    1AD9: E9 A0 02                              jmp move_fin
[ 396]        :                                       
[ 397]    1ADC:                                       move_up_start:
[ 398]    1ADC: 33 C9                                 xor cx,cx
[ 399]        :                                       
[ 400]    1ADE: 50 57 A0 49 19 FE C8 B7 78 F6 E7 32   GetBlocks move_pos_x,move_pos_y
                FF 8A 1E 48 19 03 C3 BF 03 01 03 F8 
                8A 05 A2 3F 19 81 C7 F0 00 8A 05 A2 
                41 19 83 EF 77 8A 05 A2 42 19 83 EF 
                02 8A 05 A2 40 19 5F 58             
[ 401]    1B16: 80 3E 41 19 20                        cmp down_block,' '
[ 402]    1B1B: 75 03 E9 5C 02                        je move_fin
[ 403]        :                                       
[ 404]    1B20: 80 3E 3F 19 25                        cmp up_block,25h
[ 405]    1B25: 74 9A                                 je dead_up
[ 406]        :                                       
[ 407]    1B27: 80 3E 3F 19 6F                        cmp up_block,'o'
[ 408]    1B2C: 75 03 E9 62 FF                        je inc_coin_count_continue
[ 409]        :                                       
[ 410]    1B31: 80 3E 3F 19 20                        cmp up_block,' '
[ 411]    1B36: 74 03 E9 41 02                        jne move_fin
[ 412]        :                                       
[ 413]    1B3B:                                       move_up_continue:
[ 414]    1B3B: 41                                    inc cx
[ 415]        :                                       
[ 416]    1B3C: A0 49 19                              mov al,move_pos_y
[ 417]    1B3F: FE C8                                 dec al
[ 418]    1B41: A2 49 19                              mov move_pos_y,al
[ 419]    1B44: 50 57 A0 49 19 FE C8 B7 78 F6 E7 32   GetBlocks move_pos_x,move_pos_y
                FF 8A 1E 48 19 03 C3 BF 03 01 03 F8 
                8A 05 A2 3F 19 81 C7 F0 00 8A 05 A2 
                41 19 83 EF 77 8A 05 A2 42 19 83 EF 
                02 8A 05 A2 40 19 5F 58             
[ 420]        :                                       
[ 421]    1B7C: 80 3E 3F 19 25                        cmp up_block,25h
[ 422]    1B81: 75 03 E9 3B FF                        je dead_up
[ 423]        :                                       
[ 424]    1B86: 80 3E 3F 19 20                        cmp up_block,' '
[ 425]    1B8B: 74 03 E9 3F FF                        jne move_handle
[ 426]        :                                       
[ 427]    1B90: 41                                    inc cx
[ 428]        :                                       
[ 429]    1B91: A0 49 19                              mov al,move_pos_y
[ 430]    1B94: FE C8                                 dec al
[ 431]    1B96: A2 49 19                              mov move_pos_y,al
[ 432]    1B99: 50 57 A0 49 19 FE C8 B7 78 F6 E7 32   GetBlocks move_pos_x,move_pos_y
                FF 8A 1E 48 19 03 C3 BF 03 01 03 F8 
                8A 05 A2 3F 19 81 C7 F0 00 8A 05 A2 
                41 19 83 EF 77 8A 05 A2 42 19 83 EF 
                02 8A 05 A2 40 19 5F 58             
[ 433]        :                                       
[ 434]    1BD1: 80 3E 3F 19 25                        cmp up_block,25h
[ 435]    1BD6: 75 03 E9 E6 FE                        je dead_up
[ 436]        :                                       
[ 437]    1BDB: 80 3E 3F 19 20                        cmp up_block,' '
[ 438]    1BE0: 74 03 E9 EA FE                        jne move_handle
[ 439]        :                                       
[ 440]    1BE5: 41                                    inc cx
[ 441]        :                                       
[ 442]    1BE6: E9 E6 FE                              jmp move_handle
[ 443]        :                                       
[ 444]    1BE9: E9 90 01                              jmp move_fin
[ 445]        :                                       ;$$$$$$$$$$$$$
[ 446]    1BEC:                                       move_left:
[ 447]    1BEC: 80 3E C2 18 00                        cmp is_player,0
[ 448]    1BF1: 74 2B                                 je m_l_cnt
[ 449]        :                                       
[ 450]    1BF3: 80 3E 40 19 25                        cmp left_block,25h
[ 451]    1BF8: 75 08                                 jne not_dead_left
[ 452]        :                                       
[ 453]    1BFA: C6 06 C1 18 01                        mov is_dead,1
[ 454]    1BFF: E9 8D 01                              jmp Move_fin_no_button
[ 455]        :                                       
[ 456]    1C02:                                       not_dead_left:
[ 457]    1C02: 80 3E 40 19 6F                        cmp left_block,'o'
[ 458]    1C07: 75 03 E9 87 FE                        je inc_coin_count_continue
[ 459]        :                                       
[ 460]    1C0C: 80 3E 40 19 20                        cmp left_block,' '
[ 461]    1C11: 74 03 E9 66 01                        jne move_fin
[ 462]        :                                       ;PROBLEM
[ 463]    1C16: FE 0E 48 19                           dec move_pos_x
[ 464]    1C1A: 4F                                    dec di
[ 465]    1C1B: E9 5E 01                              jmp move_fin
[ 466]        :                                       
[ 467]    1C1E:                                       m_l_cnt:
[ 468]    1C1E: 80 3E 40 19 2A                        cmp left_block,2Ah
[ 469]    1C23: 75 08                                 jne dead_left2
[ 470]        :                                       
[ 471]    1C25: C6 06 C1 18 01                        mov is_dead,1
[ 472]    1C2A: E9 62 01                              jmp Move_fin_no_button
[ 473]        :                                       
[ 474]    1C2D:                                       dead_left2:
[ 475]    1C2D: 80 3E 40 19 6F                        cmp left_block,'o'
[ 476]    1C32: 75 03 E9 5C FE                        je inc_coin_count_continue
[ 477]    1C37: 80 3E 40 19 20                        cmp left_block,' '
[ 478]    1C3C: 74 03 E9 3B FE                        jne move_fin_change_dir
[ 479]    1C41:                                       move_left_continue:               ;PROBLEM
[ 480]    1C41: FE 0E 48 19                           dec move_pos_x
[ 481]    1C45: 4F                                    dec di
[ 482]    1C46: E9 33 01                              jmp move_fin
[ 483]        :                                       ;$$$$$$$$$$$$$
[ 484]    1C49:                                       move_right:
[ 485]    1C49: 80 3E C2 18 00                        cmp is_player,0
[ 486]    1C4E: 74 2B                                 je m_r_cnt
[ 487]        :                                       
[ 488]    1C50: 80 3E 42 19 25                        cmp right_block,25h
[ 489]    1C55: 75 08                                 jne dead_right
[ 490]        :                                       
[ 491]    1C57: C6 06 C1 18 01                        mov is_dead,1
[ 492]    1C5C: E9 30 01                              jmp Move_fin_no_button
[ 493]        :                                       
[ 494]    1C5F:                                       dead_right:
[ 495]    1C5F: 80 3E 42 19 6F                        cmp right_block,'o'
[ 496]    1C64: 75 03 E9 2A FE                        je inc_coin_count_continue
[ 497]    1C69: 80 3E 42 19 20                        cmp right_block,' '
[ 498]    1C6E: 74 03 E9 09 01                        jne move_fin
[ 499]        :                                       ;PROBLEM
[ 500]    1C73: FE 06 48 19                           inc move_pos_x
[ 501]    1C77: 47                                    inc di
[ 502]    1C78: E9 01 01                              jmp move_fin
[ 503]        :                                       
[ 504]    1C7B:                                       m_r_cnt:
[ 505]    1C7B: 80 3E 42 19 2A                        cmp right_block,2Ah
[ 506]    1C80: 75 08                                 jne not_dead_right
[ 507]        :                                       
[ 508]    1C82: C6 06 C1 18 01                        mov is_dead,1
[ 509]    1C87: E9 05 01                              jmp Move_fin_no_button
[ 510]        :                                       
[ 511]    1C8A:                                       not_dead_right:
[ 512]    1C8A: 80 3E 42 19 6F                        cmp right_block,'o'
[ 513]    1C8F: 75 03 E9 FF FD                        je inc_coin_count_continue
[ 514]    1C94: 80 3E 42 19 20                        cmp right_block,' '
[ 515]    1C99: 74 03 E9 DE FD                        jne move_fin_change_dir
[ 516]    1C9E:                                       move_right_continue:       ;PROBLEM
[ 517]    1C9E: FE 06 48 19                           inc move_pos_x
[ 518]    1CA2: 47                                    inc di
[ 519]        :                                       
[ 520]    1CA3: E9 D6 00                              jmp move_fin
[ 521]        :                                       ;$$$$$$$$$$$$$
[ 522]    1CA6:                                       move_down:
[ 523]    1CA6: E8 A3 02                              call Delay
[ 524]    1CA9: 80 3E 4D 19 00                        cmp can_move,0
[ 525]    1CAE: 75 03 E9 C9 00                        je move_fin ;because of timer,i dont want to create new jmp
[ 526]        :                                       
[ 527]    1CB3: 80 3E C2 18 00                        cmp is_player,0
[ 528]    1CB8: 74 7B                                 je m_d_cnt
[ 529]        :                                       
[ 530]        :                                       ;saving
[ 531]    1CBA: A0 4C 19                              mov al,move_ascii
[ 532]    1CBD: 8A 26 48 19                           mov ah,move_pos_x
[ 533]    1CC1: 8A 1E 49 19                           mov bl,move_pos_y
[ 534]    1CC5: 8A 3E C2 18                           mov bh,is_player
[ 535]    1CC9: 8A 0E 41 19                           mov cl,down_block
[ 536]    1CCD: 8A 2E 4B 19                           mov ch,move_dir
[ 537]    1CD1: 51                                    push cx
[ 538]    1CD2: 50                                    push ax
[ 539]    1CD3: 53                                    push bx
[ 540]        :                                       
[ 541]    1CD4: E8 7A 03                              call Fall_enemies
[ 542]    1CD7: E8 3D 03                              call Move_enemies
[ 543]        :                                       
[ 544]    1CDA: 5B                                    pop bx
[ 545]    1CDB: 58                                    pop ax
[ 546]    1CDC: 59                                    pop cx
[ 547]    1CDD: A2 4C 19                              mov move_ascii,al
[ 548]    1CE0: 88 26 48 19                           mov move_pos_x,ah
[ 549]    1CE4: 88 1E 49 19                           mov move_pos_y,bl
[ 550]    1CE8: 88 3E C2 18                           mov is_player,bh
[ 551]    1CEC: 88 0E 41 19                           mov down_block,cl
[ 552]    1CF0: 88 2E 4B 19                           mov move_dir,ch
[ 553]        :                                       
[ 554]    1CF4: 80 3E C1 18 01                        cmp is_dead,1
[ 555]    1CF9: 75 03 E9 91 00                        je Move_fin_no_button
[ 556]        :                                       ;saving
[ 557]        :                                       
[ 558]    1CFE: 80 3E 41 19 40                        cmp down_block,40h
[ 559]    1D03: 75 08                                 jne dead_down_in_lava
[ 560]        :                                       
[ 561]    1D05: C6 06 C1 18 01                        mov is_dead,1
[ 562]    1D0A: E9 82 00                              jmp Move_fin_no_button
[ 563]        :                                       
[ 564]    1D0D:                                       dead_down_in_lava:
[ 565]        :                                       
[ 566]    1D0D: 80 3E 41 19 25                        cmp down_block,25h
[ 567]    1D12: 75 07                                 jne dead_down
[ 568]        :                                       
[ 569]    1D14: C6 06 C1 18 01                        mov is_dead,1
[ 570]    1D19: EB 74                                 jmp Move_fin_no_button
[ 571]        :                                       
[ 572]    1D1B:                                       dead_down:
[ 573]    1D1B: 80 3E 41 19 6F                        cmp down_block,'o'
[ 574]    1D20: 75 03 E9 6E FD                        je inc_coin_count_continue
[ 575]    1D25: 80 3E 41 19 20                        cmp down_block,' '
[ 576]    1D2A: 75 50                                 jne move_fin
[ 577]        :                                       
[ 578]    1D2C: FE 06 49 19                           inc move_pos_y
[ 579]    1D30: 83 C7 78                              add di,78h
[ 580]        :                                       
[ 581]    1D33: EB 47                                 jmp move_fin
[ 582]        :                                       
[ 583]    1D35:                                       m_d_cnt:
[ 584]        :                                       
[ 585]    1D35: 80 3E 41 19 2A                        cmp down_block,2Ah
[ 586]    1D3A: 75 07                                 jne dead_down2
[ 587]        :                                       
[ 588]    1D3C: C6 06 C1 18 01                        mov is_dead,1
[ 589]    1D41: EB 4C                                 jmp Move_fin_no_button
[ 590]        :                                       
[ 591]    1D43:                                       dead_down2:
[ 592]    1D43: 80 3E 41 19 6F                        cmp down_block,'o'
[ 593]    1D48: 75 03 E9 46 FD                        je inc_coin_count_continue
[ 594]    1D4D: 80 3E 41 19 20                        cmp down_block,' '
[ 595]    1D52: 75 28                                 jne move_fin
[ 596]    1D54:                                       move_down_continue:
[ 597]        :                                       
[ 598]    1D54: FE 06 49 19                           inc move_pos_y
[ 599]    1D58: 83 C7 78                              add di,78h
[ 600]        :                                       
[ 601]    1D5B: EB 1F                                 jmp move_fin
[ 602]        :                                       ;$$$$$$$$$$$$$
[ 603]    1D5D:                                       move_start:
[ 604]        :                                       
[ 605]    1D5D: A0 4B 19                              mov al,move_dir
[ 606]        :                                       
[ 607]    1D60: 3C 01                                 cmp al,1
[ 608]    1D62: 75 03 E9 58 FD                        je move_up
[ 609]    1D67: 3C 02                                 cmp al,2
[ 610]    1D69: 75 03 E9 7E FE                        je move_left
[ 611]    1D6E: 3C 03                                 cmp al,3
[ 612]    1D70: 75 03 E9 31 FF                        je move_down
[ 613]    1D75: 3C 04                                 cmp al,4
[ 614]    1D77: 75 03 E9 CD FE                        je move_right
[ 615]        :                                       
[ 616]    1D7C:                                       move_fin:
[ 617]        :                                       	;===========
[ 618]    1D7C: A0 4C 19                              	mov al,move_ascii
[ 619]    1D7F: 8A 25                                 	mov ah,[di]
[ 620]    1D81: 88 05                                 mov [di],al
[ 621]    1D83: 80 3E C2 18 00                        cmp is_player,0
[ 622]    1D88: 74 05                                 je Move_fin_no_button
[ 623]        :                                       
[ 624]    1D8A: C6 06 4B 19 00                        mov move_dir,0
[ 625]        :                                       
[ 626]    1D8F:                                       Move_fin_no_button:
[ 627]        :                                       
[ 628]    1D8F: 58                                    pop ax
[ 629]    1D90: C3                                    ret
[ 630]        :                                       Move endp
[ 631]        :                                       ;###################################################################
[ 632]        :                                       ;
[ 633]        :                                       ;###################################################################
[ 634]    1D91:                                       GetAsciiAndAtribute proc
[ 635]        :                                       
[ 636]    1D91: EB 30                                 jmp GetAsciiAndAtribute_start
[ 637]        :                                       
[ 638]    1D93:                                       wall_draw:
[ 639]    1D93: C7 06 45 19 67 20                     mov tmp_ascii_atribute,2067h
[ 640]    1D99: EB 5D                                 jmp Getword_fin
[ 641]        :                                       
[ 642]    1D9B:                                       sky_draw:
[ 643]    1D9B: C7 06 45 19 38 20                     mov tmp_ascii_atribute,02038h
[ 644]    1DA1: EB 55                                 jmp Getword_fin
[ 645]        :                                       
[ 646]    1DA3:                                       coin_draw:
[ 647]    1DA3: C7 06 45 19 3E 6F                     mov tmp_ascii_atribute,06F3Eh
[ 648]    1DA9: EB 4D                                 jmp Getword_fin
[ 649]        :                                       
[ 650]    1DAB:                                       lava_draw:
[ 651]    1DAB: C7 06 45 19 C8 B2                     mov tmp_ascii_atribute,0B2C8h
[ 652]    1DB1: EB 45                                 jmp Getword_fin
[ 653]        :                                       
[ 654]    1DB3:                                       mob_draw:
[ 655]    1DB3: C7 06 45 19 3D 02                     mov tmp_ascii_atribute,023Dh
[ 656]    1DB9: EB 3D                                 jmp Getword_fin
[ 657]        :                                       
[ 658]    1DBB:                                       player_draw:
[ 659]    1DBB: C7 06 45 19 39 05                     mov tmp_ascii_atribute,0539h
[ 660]    1DC1: EB 35                                 jmp Getword_fin
[ 661]        :                                       
[ 662]        :                                       
[ 663]    1DC3:                                       GetAsciiAndAtribute_start:
[ 664]    1DC3: 80 3E 47 19 23                        cmp tmp_ascii,'#'
[ 665]    1DC8: 74 C9                                 je wall_draw
[ 666]    1DCA: 80 3E 47 19 20                        cmp tmp_ascii,' '
[ 667]    1DCF: 74 CA                                 je sky_draw
[ 668]    1DD1: 80 3E 47 19 6F                        cmp tmp_ascii,'o'
[ 669]    1DD6: 74 CB                                 je coin_draw
[ 670]    1DD8: 80 3E 47 19 40                        cmp tmp_ascii,'@'
[ 671]    1DDD: 74 CC                                 je lava_draw
[ 672]    1DDF: 80 3E 47 19 25                        cmp tmp_ascii,'%'
[ 673]    1DE4: 74 CD                                 je mob_draw
[ 674]    1DE6: 80 3E 47 19 2A                        cmp tmp_ascii,'*'
[ 675]    1DEB: 74 CE                                 je player_draw
[ 676]        :                                       
[ 677]    1DED:                                       help_draw:
[ 678]    1DED: 50                                    push ax
[ 679]    1DEE: 8A 26 47 19                           mov ah,tmp_ascii
[ 680]    1DF2: B0 38                                 mov al,38h
[ 681]    1DF4: A3 45 19                              mov tmp_ascii_atribute,ax
[ 682]    1DF7: 58                                    pop ax
[ 683]        :                                       
[ 684]    1DF8:                                       Getword_fin:
[ 685]    1DF8: 8B 16 45 19                           mov dx,tmp_ascii_atribute
[ 686]    1DFC: C3                                    ret
[ 687]        :                                       GetAsciiAndAtribute endp
[ 688]        :                                       ;###################################################################
[ 689]        :                                       ;
[ 690]        :                                       ;###################################################################
[ 691]    1DFD:                                       MapDraw proc
[ 692]        :                                       
[ 693]    1DFD: B8 00 B8                              mov ax,0b800h
[ 694]    1E00: 8E C0                                 mov es, ax
[ 695]        :                                       
[ 696]    1E02: B8 19 00                              mov ax,19h;25 strings
[ 697]    1E05: 33 C9                                 xor cx,cx
[ 698]    1E07: 33 DB                                 xor bx,bx
[ 699]    1E09: BF 03 01                              mov di,offset MAP
[ 700]        :                                       
[ 701]        :                                       ;==drawing_start==
[ 702]    1E0C:                                       for:
[ 703]        :                                       
[ 704]    1E0C: B6 00                                 mov dh,0
[ 705]    1E0E: 8A 16 35 19                           mov dl,left_shift
[ 706]    1E12: 03 FA                                 add di,dx
[ 707]        :                                       
[ 708]    1E14: 51                                    push cx
[ 709]        :                                       
[ 710]    1E15: B9 50 00                              mov cx,50h;80 colums
[ 711]        :                                       
[ 712]    1E18:                                       for_2:
[ 713]        :                                       
[ 714]    1E18: 8A 15                                 mov dl,[di]
[ 715]    1E1A: 88 16 47 19                           mov tmp_ascii,dl
[ 716]    1E1E: E8 70 FF                              call GetAsciiAndAtribute
[ 717]        :                                       
[ 718]    1E21: 26 88 37                              mov es:[bx],dh
[ 719]    1E24: 26 88 57 01                           mov es:[bx+1],dl
[ 720]        :                                       
[ 721]    1E28: 47                                    inc di
[ 722]    1E29: 83 C3 02                              add bx,2
[ 723]    1E2C: E2 EA                                 loop for_2
[ 724]        :                                       
[ 725]    1E2E: 33 D2                                 xor dx,dx
[ 726]    1E30: 8A 16 36 19                           mov dl,right_shift
[ 727]    1E34: 03 FA                                 add di,dx
[ 728]        :                                       
[ 729]    1E36: 59                                    pop cx
[ 730]    1E37: 41                                    inc cx
[ 731]    1E38: 3B C8                                 cmp cx,ax
[ 732]    1E3A: 75 D0                                 jne for
[ 733]        :                                       
[ 734]    1E3C: E8 E2 00                              call SetScoreStr
[ 735]    1E3F: C3                                    ret
[ 736]        :                                       MapDraw endp
[ 737]        :                                       ;###################################################################
[ 738]        :                                       ;
[ 739]        :                                       ;###################################################################
[ 740]    1E40:                                       SetPlayerDirection PROC
[ 741]    1E40: 80 3E 3E 19 00                        cmp pressed_button,0
[ 742]    1E45: 74 2F                                 je setplayerdir_fin
[ 743]        :                                       
[ 744]    1E47: A0 3E 19                              mov al,pressed_button
[ 745]    1E4A: 3C 77                                 cmp al,'w'
[ 746]    1E4C: 75 07                                 jne dir_2
[ 747]    1E4E: C6 06 C0 18 01                        mov player_dir,1
[ 748]    1E53: EB 21                                 jmp setplayerdir_fin
[ 749]        :                                       
[ 750]    1E55:                                       dir_2:
[ 751]    1E55: 3C 61                                 cmp al,'a'
[ 752]    1E57: 75 07                                 jne dir_3
[ 753]    1E59: C6 06 C0 18 02                        mov player_dir,2
[ 754]    1E5E: EB 16                                 jmp setplayerdir_fin
[ 755]        :                                       
[ 756]    1E60:                                       dir_3:
[ 757]    1E60: 3C 73                                 cmp al,'s'
[ 758]    1E62: 75 07                                 jne dir_4
[ 759]    1E64: C6 06 C0 18 03                        mov player_dir,3
[ 760]    1E69: EB 0B                                 jmp setplayerdir_fin
[ 761]        :                                       
[ 762]    1E6B:                                       dir_4:
[ 763]    1E6B: 3C 64                                 cmp al,'d'
[ 764]    1E6D: 75 07                                 jne other_button
[ 765]    1E6F: C6 06 C0 18 04                        mov player_dir,4
[ 766]    1E74: EB 00                                 jmp setplayerdir_fin
[ 767]        :                                       
[ 768]    1E76:                                       other_button:
[ 769]        :                                       
[ 770]    1E76:                                       setplayerdir_fin:
[ 771]    1E76: C3                                    ret
[ 772]        :                                       SetPlayerDirection ENDP
[ 773]        :                                       ;###################################################################
[ 774]        :                                       ;
[ 775]        :                                       ;###################################################################
[ 776]    1E77:                                       From_player PROC
[ 777]    1E77: 80 3E 3E 19 00                        cmp pressed_button,0
[ 778]    1E7C: 74 17                                 je From_player_fin
[ 779]        :                                       
[ 780]    1E7E: C6 06 4C 19 2A                        mov move_ascii,2Ah
[ 781]    1E83: A0 C0 18                              mov al,player_dir
[ 782]    1E86: A2 4B 19                              mov move_dir,al
[ 783]        :                                       
[ 784]    1E89: A0 BD 18                              mov al,player_pos_x
[ 785]    1E8C: A2 48 19                              mov move_pos_x,al
[ 786]        :                                       
[ 787]    1E8F: A0 BE 18                              mov al,player_pos_y
[ 788]    1E92: A2 49 19                              mov move_pos_y,al
[ 789]        :                                       
[ 790]    1E95:                                       From_player_fin:
[ 791]    1E95: C3                                    ret
[ 792]        :                                       From_player ENDP
[ 793]        :                                       ;###################################################################
[ 794]        :                                       ;
[ 795]        :                                       ;###################################################################
[ 796]    1E96:                                       To_player PROC
[ 797]    1E96: 80 3E 3E 19 00                        cmp pressed_button,0
[ 798]    1E9B: 74 33                                 je To_player_fin
[ 799]        :                                       
[ 800]    1E9D: C6 06 37 19 00                        mov shifting,0
[ 801]    1EA2: EB 0E                                 jmp to_player_start
[ 802]        :                                       
[ 803]    1EA4:                                       set_shift_left:
[ 804]    1EA4: C6 06 37 19 01                        mov shifting,1
[ 805]    1EA9: EB 1C                                 jmp to_player_continue
[ 806]        :                                       
[ 807]    1EAB:                                       set_shift_right:
[ 808]    1EAB: C6 06 37 19 02                        mov shifting,2
[ 809]    1EB0: EB 15                                 jmp to_player_continue
[ 810]        :                                       
[ 811]    1EB2:                                       to_player_start:
[ 812]    1EB2: A0 4B 19                              mov al,move_dir
[ 813]    1EB5: A2 C0 18                              mov player_dir,al
[ 814]        :                                       
[ 815]    1EB8: A0 48 19                              mov al,move_pos_x
[ 816]    1EBB: 8A 1E BD 18                           mov bl,player_pos_x
[ 817]    1EBF: 3A C3                                 cmp al,bl
[ 818]    1EC1: 77 E1                                 ja set_shift_left
[ 819]    1EC3: 3A D8                                 cmp bl,al
[ 820]    1EC5: 77 E4                                 ja set_shift_right
[ 821]        :                                       
[ 822]    1EC7:                                       to_player_continue:
[ 823]        :                                       
[ 824]    1EC7: A2 BD 18                              mov player_pos_x,al
[ 825]        :                                       
[ 826]    1ECA: A0 49 19                              mov al,move_pos_y
[ 827]    1ECD: A2 BE 18                              mov player_pos_y,al
[ 828]    1ED0:                                       To_player_fin:
[ 829]    1ED0: C3                                    ret
[ 830]        :                                       To_player ENDP
[ 831]        :                                       ;###################################################################
[ 832]        :                                       ;
[ 833]        :                                       ;###################################################################
[ 834]    1ED1:                                       SetShifting PROC
[ 835]    1ED1: EB 30                                 jmp setshifting_start
[ 836]        :                                       
[ 837]        :                                       
[ 838]    1ED3:                                       left_handle:
[ 839]        :                                       
[ 840]    1ED3: 80 3E 35 19 28                        cmp left_shift,28h
[ 841]    1ED8: 74 41                                 je setshifting_fin
[ 842]        :                                       
[ 843]    1EDA: 80 3E BD 18 29                        cmp player_pos_x,29h
[ 844]    1EDF: 72 3A                                 jb setshifting_fin
[ 845]        :                                       
[ 846]    1EE1: FE 06 35 19                           inc left_shift
[ 847]    1EE5: FE 0E 36 19                           dec right_shift
[ 848]        :                                       
[ 849]    1EE9: EB 30                                 jmp setshifting_fin
[ 850]        :                                       
[ 851]        :                                       
[ 852]        :                                       
[ 853]    1EEB:                                       right_handle:
[ 854]        :                                       
[ 855]    1EEB: 80 3E 36 19 28                        cmp right_shift,28h
[ 856]    1EF0: 74 29                                 je setshifting_fin
[ 857]        :                                       
[ 858]    1EF2: 80 3E BD 18 4F                        cmp player_pos_x,4fh
[ 859]    1EF7: 77 22                                 ja setshifting_fin
[ 860]        :                                       
[ 861]    1EF9: FE 0E 35 19                           dec left_shift
[ 862]    1EFD: FE 06 36 19                           inc right_shift
[ 863]        :                                       
[ 864]    1F01: EB 18                                 jmp setshifting_fin
[ 865]        :                                       
[ 866]        :                                       
[ 867]    1F03:                                       setshifting_start:
[ 868]    1F03: 80 3E 37 19 00                        cmp shifting,0
[ 869]    1F08: 74 11                                 je setshifting_fin
[ 870]        :                                       
[ 871]    1F0A: A0 BD 18                              mov al,player_pos_x
[ 872]        :                                       
[ 873]    1F0D: 80 3E 37 19 01                        cmp shifting,1
[ 874]    1F12: 74 BF                                 je left_handle
[ 875]    1F14: 80 3E 37 19 02                        cmp shifting,2
[ 876]    1F19: 74 D0                                 je right_handle
[ 877]        :                                       
[ 878]    1F1B:                                       setshifting_fin:
[ 879]    1F1B: C6 06 37 19 00                        mov shifting,0
[ 880]    1F20: C3                                    ret
[ 881]        :                                       SetShifting ENDP
[ 882]        :                                       ;###################################################################
[ 883]        :                                       ;
[ 884]        :                                       ;###################################################################
[ 885]    1F21:                                       SetScoreStr PROC
[ 886]    1F21: BF 0A 01                              mov di, offset MAP+7
[ 887]    1F24: A0 BF 18                              mov al,player_coins
[ 888]    1F27: B3 19                                 mov bl,19h
[ 889]    1F29: F6 E3                                 mul bl
[ 890]        :                                       
[ 891]    1F2B: B9 04 00                              mov cx,4
[ 892]    1F2E: BB E8 03                              mov bx,1000
[ 893]    1F31:                                       for_5:
[ 894]    1F31: 33 D2                                 xor dx,dx
[ 895]    1F33: F7 F3                                 div bx
[ 896]    1F35: 04 30                                 add al,'0'
[ 897]    1F37: 88 05                                 mov [di],al
[ 898]    1F39: 8B C2                                 mov ax,dx
[ 899]        :                                       
[ 900]    1F3B: 50                                    push ax
[ 901]    1F3C: 8B C3                                 mov ax,bx
[ 902]    1F3E: BB 0A 00                              mov bx,10
[ 903]    1F41: 33 D2                                 xor dx,dx
[ 904]    1F43: F7 F3                                 div bx
[ 905]    1F45: 8B D8                                 mov bx,ax
[ 906]    1F47: 58                                    pop ax
[ 907]        :                                       
[ 908]    1F48: 47                                    inc di
[ 909]    1F49: E2 E6                                 loop for_5
[ 910]        :                                       
[ 911]    1F4B: C3                                    ret
[ 912]        :                                       SetScoreStr ENDP
[ 913]        :                                       ;###################################################################
[ 914]        :                                       ;
[ 915]        :                                       ;###################################################################
[ 916]        :                                       ;DELAY 200000 (30D40h).
[ 917]    1F4C:                                       Delay proc
[ 918]    1F4C: EB 09                                 jmp delay_start
[ 919]        :                                       
[ 920]    1F4E:                                       cx_below:
[ 921]    1F4E: 2B C1                                 sub ax,cx
[ 922]    1F50: 3D 19 00                              cmp ax,25
[ 923]    1F53: 77 37                                 ja set_can_move_1_fin
[ 924]    1F55: EB 4D                                 jmp delay_fin
[ 925]        :                                       
[ 926]    1F57:                                       delay_start:
[ 927]    1F57: C6 06 4D 19 00                        mov can_move,0
[ 928]        :                                       
[ 929]    1F5C: B4 2C                                 mov ah,2Ch
[ 930]    1F5E: CD 21                                 int 21h   ;ch - hours | cl - minutes | dh - seconds | dl - 1/100 of second
[ 931]        :                                       
[ 932]    1F60: B4 00                                 mov ah,0
[ 933]    1F62: 8A C6                                 mov al,dh
[ 934]        :                                       
[ 935]    1F64: B3 64                                 mov bl,100
[ 936]    1F66: F6 E3                                 mul bl
[ 937]        :                                       
[ 938]    1F68: B6 00                                 mov dh,0
[ 939]    1F6A: 03 C2                                 add ax,dx
[ 940]        :                                       
[ 941]    1F6C: 8B C8                                 mov cx,ax   ;in cx new time
[ 942]        :                                       
[ 943]    1F6E: B4 00                                 mov ah,0
[ 944]    1F70: A0 4E 19                              mov al, move_timer_sec
[ 945]        :                                       
[ 946]    1F73: B3 64                                 mov bl,100
[ 947]    1F75: F6 E3                                 mul bl
[ 948]        :                                       
[ 949]    1F77: B7 00                                 mov bh,0
[ 950]    1F79: 8A 1E 4F 19                           mov bl,move_timer_msec
[ 951]    1F7D: 03 C3                                 add ax,bx ;in ax old time
[ 952]        :                                       
[ 953]    1F7F: 3B C8                                 cmp cx,ax
[ 954]    1F81: 72 CB                                 jb cx_below
[ 955]        :                                       
[ 956]    1F83: 2B C8                                 sub cx,ax
[ 957]    1F85: 83 F9 19                              cmp cx,25
[ 958]        :                                       
[ 959]    1F88: 77 02                                 ja set_can_move_1_fin
[ 960]    1F8A: EB 18                                 jmp delay_fin
[ 961]        :                                       
[ 962]    1F8C:                                       set_can_move_1_fin:
[ 963]    1F8C: 80 3E C2 18 01                        cmp is_player,1
[ 964]    1F91: 75 0C                                 jne cnt_tmr
[ 965]        :                                       
[ 966]    1F93: B4 2C                                 mov ah,2Ch
[ 967]    1F95: CD 21                                 int 21h
[ 968]    1F97: 88 36 4E 19                           mov move_timer_sec,dh
[ 969]    1F9B: 88 16 4F 19                           mov move_timer_msec,dl
[ 970]        :                                       
[ 971]    1F9F:                                       cnt_tmr:
[ 972]    1F9F: C6 06 4D 19 01                        mov can_move,1
[ 973]        :                                       
[ 974]    1FA4:                                       delay_fin:
[ 975]    1FA4: C3                                    ret
[ 976]        :                                       Delay endp
[ 977]        :                                       ;###################################################################
[ 978]        :                                       ;
[ 979]        :                                       ;###################################################################
[ 980]    1FA5:                                       Fall_player PROC
[ 981]        :                                       
[ 982]    1FA5: C6 06 3E 19 73                        mov pressed_button,73h
[ 983]    1FAA: C6 06 C0 18 03                        mov player_dir,3
[ 984]        :                                       
[ 985]    1FAF: E8 C5 FE                              call From_player
[ 986]    1FB2: C6 06 C2 18 01                        mov is_player,1
[ 987]    1FB7: E8 5D FA                              call Move
[ 988]    1FBA: C6 06 C2 18 00                        mov is_player,0
[ 989]    1FBF: E8 D4 FE                              call To_player
[ 990]        :                                       
[ 991]        :                                       
[ 992]    1FC2: C6 06 3E 19 00                        mov pressed_button,0
[ 993]    1FC7: C6 06 C0 18 00                        mov player_dir,0
[ 994]        :                                       
[ 995]    1FCC:                                       fall_player_fin:
[ 996]    1FCC: C3                                    ret
[ 997]        :                                       Fall_player ENDP
[ 998]        :                                       ;###################################################################
[ 999]        :                                       ;
[1000]        :                                       ;###################################################################
[1001]    1FCD:                                       From_enemy PROC
[1002]        :                                       
[1003]    1FCD: C6 06 4C 19 25                        mov move_ascii,25h
[1004]        :                                       
[1005]    1FD2: 8A 07                                 mov al,[bx]
[1006]    1FD4: A2 4B 19                              mov move_dir,al
[1007]        :                                       
[1008]    1FD7: 8A 05                                 mov al,[di]
[1009]    1FD9: A2 48 19                              mov move_pos_x,al
[1010]        :                                       
[1011]    1FDC: 8A 04                                 mov al,[si]
[1012]    1FDE: A2 49 19                              mov move_pos_y,al
[1013]        :                                       
[1014]    1FE1: C3                                    ret
[1015]        :                                       From_enemy ENDP
[1016]        :                                       ;###################################################################
[1017]        :                                       ;
[1018]        :                                       ;###################################################################
[1019]    1FE2:                                       Set_on_place PROC
[1020]    1FE2: BF C3 18                              mov di,offset enemies_pos_x
[1021]    1FE5: BE E8 18                              mov si,offset enemies_pos_y
[1022]    1FE8: B9 25 00                              mov cx,37
[1023]    1FEB:                                       for_10:
[1024]    1FEB: 8A 04                                 mov al,[si]
[1025]    1FED: B7 78                                 mov bh,120
[1026]    1FEF: F6 E7                                 mul bh
[1027]    1FF1: 32 FF                                 xor bh,bh
[1028]    1FF3: 8A 1D                                 mov bl,[di]
[1029]    1FF5: 03 C3                                 add ax,bx
[1030]    1FF7: BB 03 01                              mov bx,offset MAP
[1031]    1FFA: 03 D8                                 add bx,ax
[1032]        :                                       
[1033]    1FFC: B0 25                                 mov al,25h
[1034]    1FFE: 8A 27                                 mov ah,[bx]
[1035]    2000: 88 07                                 mov [bx],al
[1036]        :                                       
[1037]    2002: 46                                    inc si
[1038]    2003: 47                                    inc di
[1039]        :                                       
[1040]    2004: E2 E5                                 loop for_10
[1041]    2006: C3                                    ret
[1042]        :                                       Set_on_place ENDP
[1043]        :                                       ;###################################################################
[1044]        :                                       ;
[1045]        :                                       ;###################################################################
[1046]    2007:                                       To_enemy PROC
[1047]        :                                       
[1048]    2007: A0 4B 19                              mov al,move_dir
[1049]    200A: 88 07                                 mov [bx],al
[1050]        :                                       
[1051]    200C: A0 48 19                              mov al,move_pos_x
[1052]    200F: 88 05                                 mov [di],al
[1053]        :                                       
[1054]    2011: A0 49 19                              mov al,move_pos_y
[1055]    2014: 88 04                                 mov [si],al
[1056]        :                                       
[1057]    2016: C3                                    ret
[1058]        :                                       To_enemy ENDP
[1059]        :                                       ;###################################################################
[1060]        :                                       ;
[1061]        :                                       ;###################################################################
[1062]    2017:                                       Move_enemies PROC
[1063]    2017: 56                                    push si
[1064]    2018: 57                                    push di
[1065]    2019: 51                                    push cx
[1066]        :                                       
[1067]    201A: BB 0D 19                              mov bx,offset enemies_dirs
[1068]    201D: BF C3 18                              mov di,offset enemies_pos_x
[1069]    2020: BE E8 18                              mov si,offset enemies_pos_y
[1070]        :                                       
[1071]    2023: B9 25 00                              mov cx,37
[1072]        :                                       
[1073]    2026:                                       for_8:
[1074]    2026: 51                                    push cx
[1075]    2027: 56                                    push si
[1076]    2028: 57                                    push di
[1077]    2029: 53                                    push bx
[1078]        :                                       
[1079]    202A: C6 06 3E 19 01                        mov pressed_button,1
[1080]        :                                       
[1081]    202F: E8 9B FF                              call From_enemy
[1082]    2032: C6 06 C2 18 00                        mov is_player,0
[1083]    2037: E8 DD F9                              call Move
[1084]        :                                       
[1085]    203A: 5B                                    pop bx
[1086]    203B: 5F                                    pop di
[1087]    203C: 5E                                    pop si
[1088]        :                                       
[1089]    203D: E8 C7 FF                              call To_enemy
[1090]        :                                       
[1091]    2040: 59                                    pop cx
[1092]    2041: 80 3E C1 18 01                        cmp is_dead,1
[1093]    2046: 74 05                                 je move_enemies_fin
[1094]    2048: 47                                    inc di
[1095]    2049: 46                                    inc si
[1096]    204A: 43                                    inc bx
[1097]        :                                       
[1098]    204B: E2 D9                                 loop for_8
[1099]        :                                       
[1100]    204D:                                       move_enemies_fin:
[1101]        :                                       ;call Set_on_place
[1102]        :                                       
[1103]    204D: 59                                    pop cx
[1104]    204E: 5F                                    pop di
[1105]    204F: 5E                                    pop si
[1106]    2050: C3                                    ret
[1107]        :                                       Move_enemies ENDP
[1108]        :                                       ;###################################################################
[1109]        :                                       ;
[1110]        :                                       ;###################################################################
[1111]    2051:                                       Fall_enemies PROC
[1112]    2051: 56                                    push si
[1113]    2052: 57                                    push di
[1114]    2053: 51                                    push cx
[1115]    2054: EB 0E                                 jmp fall_start
[1116]        :                                       
[1117]    2056:                                       set_dead_player:
[1118]    2056: C6 06 C1 18 01                        mov is_dead,1
[1119]    205B: E9 9E 00                              jmp fall_enemies_fin
[1120]        :                                       
[1121]    205E:                                       inc_coins:
[1122]    205E: FE 06 BF 18                           inc player_coins
[1123]    2062: EB 5C                                 jmp set_place
[1124]        :                                       
[1125]    2064:                                       fall_start:
[1126]    2064: BB 0D 19                              mov bx,offset enemies_dirs
[1127]    2067: BF C3 18                              mov di,offset enemies_pos_x
[1128]    206A: BE E8 18                              mov si,offset enemies_pos_y
[1129]        :                                       
[1130]    206D: B9 25 00                              mov cx,37
[1131]        :                                       
[1132]    2070:                                       for_9:
[1133]        :                                       ;HERE IT COMES
[1134]    2070: E8 5A FF                              call From_enemy
[1135]        :                                       
[1136]    2073: 50 57 A0 49 19 FE C8 B7 78 F6 E7 32   GetBlocks move_pos_x,move_pos_y
                FF 8A 1E 48 19 03 C3 BF 03 01 03 F8 
                8A 05 A2 3F 19 81 C7 F0 00 8A 05 A2 
                41 19 83 EF 77 8A 05 A2 42 19 83 EF 
                02 8A 05 A2 40 19 5F 58             
[1137]        :                                       
[1138]    20AB: 80 3E 41 19 6F                        cmp down_block,6Fh
[1139]    20B0: 74 AC                                 je inc_coins
[1140]        :                                       
[1141]    20B2: 80 3E 41 19 2A                        cmp down_block,2Ah
[1142]    20B7: 74 9D                                 je set_dead_player
[1143]        :                                       
[1144]    20B9: 80 3E 41 19 20                        cmp down_block,' '
[1145]    20BE: 75 33                                 jne cnt_for_9
[1146]        :                                       
[1147]    20C0:                                       set_place:
[1148]    20C0: 51                                    push cx
[1149]    20C1: 56                                    push si
[1150]    20C2: 57                                    push di
[1151]    20C3: 53                                    push bx
[1152]        :                                       
[1153]    20C4: A0 49 19                              mov al,move_pos_y
[1154]    20C7: B7 78                                 mov bh,120
[1155]    20C9: F6 E7                                 mul bh
[1156]    20CB: 32 FF                                 xor bh,bh
[1157]    20CD: 8A 1E 48 19                           mov bl,move_pos_x
[1158]    20D1: 03 C3                                 add ax,bx
[1159]    20D3: BF 03 01                              mov di,offset MAP
[1160]    20D6: 03 F8                                 add di,ax
[1161]        :                                       
[1162]    20D8: B0 20                                 mov al,' '
[1163]    20DA: 8A 25                                 mov ah,[di];for debug
[1164]    20DC: 88 05                                 mov [di],al
[1165]        :                                       
[1166]    20DE: FE 06 49 19                           inc move_pos_y;inc pos_y
[1167]    20E2: 83 C7 78                              add di,78h    ;stay on down block
[1168]        :                                       
[1169]    20E5: A0 4C 19                              mov al,move_ascii
[1170]    20E8: 8A 25                                 mov ah,[di];for debug
[1171]    20EA: 88 05                                 mov [di],al
[1172]        :                                       
[1173]    20EC: 5B                                    pop bx
[1174]    20ED: 5F                                    pop di
[1175]    20EE: 5E                                    pop si
[1176]    20EF: 59                                    pop cx
[1177]        :                                       
[1178]    20F0: E8 14 FF                              call To_enemy
[1179]    20F3:                                       cnt_for_9:
[1180]    20F3: 47                                    inc di
[1181]    20F4: 46                                    inc si
[1182]    20F5: 43                                    inc bx
[1183]        :                                       
[1184]    20F6: 49 E3 03 E9 74 FF                     loop for_9
[1185]        :                                       
[1186]    20FC:                                       fall_enemies_fin:
[1187]        :                                       
[1188]        :                                       ;call Set_on_place
[1189]    20FC: 59                                    pop cx
[1190]    20FD: 5F                                    pop di
[1191]    20FE: 5E                                    pop si
[1192]    20FF: C3                                    ret
[1193]        :                                       Fall_enemies ENDP
[1194]        :                                       ;###################################################################
[1195]        :                                       ;
[1196]        :                                       ;###################################################################
[1197]    2100:                                       On_enemy PROC
[1198]    2100: BF C3 18                              mov di,offset enemies_pos_x
[1199]    2103: BE E8 18                              mov si,offset enemies_pos_y
[1200]    2106: B9 25 00                              mov cx,37
[1201]    2109: 8A 1E BD 18                           mov bl,player_pos_x
[1202]    210D: 8A 3E BE 18                           mov bh,player_pos_y
[1203]    2111:                                       for_12:
[1204]    2111: 8A 05                                 mov al,[di]
[1205]    2113: 8A 24                                 mov ah,[si]
[1206]        :                                       
[1207]    2115: 3A E7                                 cmp ah,bh
[1208]    2117: 75 0B                                 jne for_12_cnt
[1209]    2119: 3A C3                                 cmp al,bl
[1210]    211B: 75 07                                 jne for_12_cnt
[1211]        :                                       
[1212]    211D: C6 06 C1 18 01                        mov is_dead,1
[1213]    2122: EB 04                                 jmp on_enemy_fin
[1214]        :                                       
[1215]    2124:                                       for_12_cnt:
[1216]    2124: 46                                    inc si
[1217]    2125: 47                                    inc di
[1218]    2126: E2 E9                                 loop for_12
[1219]        :                                       
[1220]    2128:                                       on_enemy_fin:
[1221]    2128: C3                                    ret
[1222]        :                                       On_enemy ENDP
[1223]        :                                       ;###################################################################
[1224]        :                                       ;
[1225]        :                                       ;###################################################################
[1226]    2129:                                       .code
[1227]    2129:                                       start:
[1228]    2129: 8C C8                                 mov ax, @DATA
[1229]    212B: 8E D8                                 mov ds, ax
[1230]        :                                       
[1231]    212D: B8 03 00                              mov ax,0003h
[1232]    2130: CD 10                                 int 10h
[1233]        :                                       
[1234]    2132: B9 07 26                              mov cx,2607h
[1235]    2135: B4 01                                 mov ah,01h
[1236]    2137: CD 10                                 int 10h
[1237]        :                                       
[1238]    2139: B4 2C                                 mov ah,2Ch
[1239]    213B: CD 21                                 int 21h
[1240]    213D: 88 36 4E 19                           mov move_timer_sec,dh
[1241]    2141: 88 16 4F 19                           mov move_timer_msec,dl
[1242]        :                                       
[1243]    2145:                                       call_reset_lvl:
[1244]    2145: E8 2F F8                              call Reset_level
[1245]    2148: C6 06 C1 18 00                        mov is_dead,0
[1246]    214D:                                       st:
[1247]    214D: E8 AD FC                              call MapDraw
[1248]        :                                       
[1249]    2150: E8 8B F8                              call GetButtonCode
[1250]        :                                       
[1251]    2153: 80 3E 3E 19 72                        cmp pressed_button,'r'
[1252]    2158: 74 EB                                 je call_reset_lvl
[1253]        :                                       
[1254]        :                                       ;mov pressed_button,77h
[1255]        :                                       ;mov player_dir,1
[1256]        :                                       
[1257]    215A: E8 1A FD                              call From_player ;player move
[1258]    215D: C6 06 C2 18 01                        mov is_player,1
[1259]    2162: E8 B2 F8                              call Move        ;_=-=_
[1260]    2165: C6 06 C2 18 00                        mov is_player,0
[1261]    216A: E8 29 FD                              call To_player   ;player move
[1262]        :                                       
[1263]    216D: 80 3E C1 18 01                        cmp is_dead,1
[1264]    2172: 74 D1                                 je call_reset_lvl
[1265]        :                                       
[1266]    2174: E8 5A FD                              call SetShifting
[1267]        :                                       
[1268]    2177: E8 2B FE                              call Fall_player ;move player down if we can
[1269]    217A: 80 3E C1 18 01                        cmp is_dead,1
[1270]    217F: 74 C4                                 je call_reset_lvl
[1271]        :                                       
[1272]    2181: E8 7C FF                              call On_enemy
[1273]    2184: 80 3E C1 18 01                        cmp is_dead,1
[1274]    2189: 74 BA                                 je call_reset_lvl
[1275]        :                                       
[1276]    218B: E8 C2 F7                              call EndGame
[1277]    218E: 80 3E 34 19 01                        cmp is_finish,1
[1278]    2193: 74 B0                                 je call_reset_lvl
[1279]    2195: EB B6                                 jmp st
[1280]        :                                       
[1281]    2197:                                       start_fin:
[1282]    2197: CD 20                                 int 20h
[1283]    2199: B8 00 4C                              mov ax,4C00h
[1284]    219C: CD 21                                 	int 21h
[1285]    219E: CD 20                                 int 20h
[1286]        :                                       ends
[1287]        :                                       
[1288]        :                                       end start
[1289]        :                                       
[1290]        :                                       
 
===================================================================================================
 




===================================================================================================
